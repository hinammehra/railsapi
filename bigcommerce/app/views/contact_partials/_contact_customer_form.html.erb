<!-- edited by vchar on 20180815 -->

<!-- BEGIN: Customer Details -->
<div class="input-group mb-3">
    <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1">Search</span>
    </div>
    <%= autocomplete_field_tag 'name', '', autocomplete_customer_actual_name_contact_index_path, 
        placeholder: 'Search Customer', id: 'customer_search', size: 10, class: "form-control" %>
</div>
<div class="input-group mb-3">
    <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1">Custoemr UID#</span>
    </div>
    <%= text_field_tag 'customer_id', @customer_id.to_s, readonly: true, class: "form-control" %>
</div>
<div class="input-group mb-3">
    <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1">Customer name</span>
    </div>
    <%= text_field_tag 'customer_name', @customer_name.to_s, readonly: true, class: "form-control" %>
</div>

<%= render 'contact_partials/contact_creation_form', f: f %>

<div class="row">
    <div class="col-6">
        <%= render 'partials/contact_role_filter'%>
        <%= text_field_tag('title', '', placeholder: 'Title', class: 'form-control mb-3 mt-2') %>
        <%= text_field_tag('phone', '', placeholder: 'Phone', class: 'form-control mb-3') %>
        <%= text_field_tag('fax', '', placeholder: 'Fax', class: 'form-control mb-3') %>
        <%= text_field_tag('email', '', placeholder: 'Email', class: 'form-control mb-3') %>
    </div>
    <div class="col-6">
        <ul class="list-group">
            <% ['Receive Invoice', "Receive Statement", "Receive Portfolio", "Key Accountant", "Key Sales"].each do |tag|%>
                <% attr_tag = tag.downcase.split().join('_') %>
                <li class="list-group-item">
                    <%= radio_button_tag( attr_tag, 1, false) %> Yes &nbsp;
                    <%= radio_button_tag( attr_tag, 0, true) %> No &nbsp;&nbsp;&nbsp;
                    <%= label(:invoice_receivable, tag)%>
                </li>
            <% end %>
        </ul>
    </div>
</div>

<script type="text/javascript">
    $('#customer_search').bind('railsAutocomplete.select', function(event, data){
        $('input[name=customer_id]').val(data.item.id);
        $('input[name=customer_name]').val(data.item.value);
    });
</script>
